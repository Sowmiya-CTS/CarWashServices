package FlipkartPages;

import org.testng.annotations.Test;
import org.testng.AssertJUnit;
import org.openqa.selenium.support.*;
import org.testng.annotations.Test;
import static org.testng.Assert.*;
import org.testng.asserts.*;

//import static org.testng.Assert.assertTrue;

import org.openqa.selenium.*;

public class AddToCart {
	
	SoftAssert sa=new SoftAssert();
	
	@FindBy(how=How.XPATH , xpath="//button[@class='QqFHMw vslbG+ In9uk2']")
	WebElement cartButton;
	
	@FindBy(how=How.XPATH ,xpath="//div[@class='ZuSA--']")
	WebElement checkCart;
	
	@FindBy(how=How.XPATH,xpath="//div[normalize-space()='Remove']")
	WebElement removeItem;
	
	@FindBy(how=How.XPATH,xpath="//div[@class='sBxzFz fF30ZI A0MXnh']")
	WebElement removeAgain;
	
	@FindBy(how=How.CLASS_NAME,className="eIDgeN")
	WebElement msg;
	
	public AddToCart(WebDriver driver) {
		PageFactory.initElements(driver, this);
	}
	
	@Test
	void addCart() {
		cartButton.click();
	}
	
	@Test
	void validateCart() {
		checkCart.click();
		boolean displayKart=checkCart.isDisplayed();
		sa.assertTrue(displayKart);
		sa.assertAll();
		
	}
	@Test(dependsOnMethods= {"validateCart"})
	void removeFromCart() {
		removeItem.click();
		removeAgain.click();
		String display=msg.getText();
		sa.assertEquals(display,"Item removed successfully");
	}
}
